using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using CK_Sync;
using CM.Map;

namespace DebugConsole
{
    class Program
    {
        static void Main(string[] args)
        {
            Console.WriteLine("Debug Start>>>>");
            CK c = new CK();
            try
            {
                #region 测试坐标解析结果
                //string dot="3,425,1,3840222.48,38416827.85,2,3840238.58,38416862.11,3,3840247.61,38416884.69,4,3840243.99,38416885.51,5,3840215.58,38416891.87,6,3840202.06,38416897.96,7,3840187.85,38416901.34,8,3840186.23,38416901.35,9,3840190.07,38416922.82,10,3840198.77,38416922.83,11,3840128.80,38416925.19,12,3840074.02,38416940.38,13,3840057.09,38416946.26,14,3840032.10,38416954.93,15,3840003.87,38416963.48,16,3839967.09,38416984.87,17,3839921.75,38417034.48,18,3839890.09,38417072.12,19,3839868.71,38417115.75,20,3839849.89,38417152.54,21,3839827.25,38417163.46,22,3839849.89,38417152.54,23,3839868.71,38417115.75,24,3839890.09,38417072.12,25,3839921.75,38417034.48,26,3839967.09,38416984.87,27,3840003.87,38416963.48,28,3840032.10,38416954.93,29,3840057.09,38416946.26,30,3840032.10,38416954.93,31,3840003.87,38416963.48,32,3839967.09,38416984.87,33,3839921.75,38417034.48,34,3839890.09,38417072.12,35,3839868.71,38417115.75,36,3839849.89,38417152.54,37,3839867.25,38417163.46,38,3839825.08,38417164.51,39,3839816.53,38417169.65,40,3839798.56,38417208.14,41,3839788.90,38417247.98,42,3839784.87,38417264.60,43,3839777.76,38417300.94,44,3839777.18,38417303.95,45,3839778.16,38417314.14,46,3839793.43,38417338.17,47,3839796.82,38417378.33,48,3839797.50,38417386.46,49,3839803.64,38417406.62,50,3839785.24,38417413.04,51,3839766.05,38417444.25,52,3839762.39,38417455.85,53,3839760.92,38417460.50,54,3839765.12,38417486.76,55,3839758.36,38417508.40,56,3839756.64,38417526.37,57,3839756.93,38417528.81,58,3839758.36,38417540.91,59,3839768.62,38417546.90,60,3839773.99,38417552.15,61,3839774.75,38417552.89,62,3839780.53,38417553.53,63,3839786.95,38417552.89,64,3839792.73,38417540.05,65,3839795.94,38417525.28,66,3839802.36,38417506.66,67,3839807.50,38417497.03,68,3839814.56,38417490.61,69,3839820.98,38417494.46,70,3839823.55,38417498.96,71,3839821.62,38417507.31,72,3839812.64,38417522.07,73,3839808.78,38417538.12,74,3839807.50,38417552.25,75,3839804.93,38417559.96,76,3839796.58,38417565.09,77,3839793.37,38417568.94,78,3839795.94,38417583.07,79,3839799.15,38417590.78,80,3839805.68,38417595.96,81,3839805.46,38417608.32,82,3839800.75,38417656.80,83,3839801.70,38417678.90,84,3839800.35,38417689.04,85,3839801.48,38417705.56,86,3839803.86,38417725.90,87,3839809.40,38417747.54,88,3839810.10,38417758.24,89,3839805.15,38417762.62,90,3839808.06,38417767.61,91,3839803.68,38417776.57,92,3839796.96,38417783.95,93,3839794.15,38417786.46,94,3839778.80,38417800.22,95,3839768.18,38417806.00,96,3839761.84,38417811.24,97,3839743.31,38417823.14,98,3839728.02,38417830.69,99,3839713.06,38417839.17,100,3839705.61,38417846.93,101,3839692.10,38417867.13,102,3839679.25,38417883.53,103,3839666.47,38417892.30,104,3839665.47,38417892.50,105,3839653.29,38417881.53,106,3839636.35,38417868.21,107,3839625.45,38417858.53,108,3839602.04,38417844.11,109,3839585.62,38417830.63,110,3839568.51,38417822.86,111,3839542.69,38417804.52,112,3839511.66,38417801.61,113,3839480.64,38417803.55,114,3839468.03,38417805.49,115,3839463.74,38417813.84,116,3839467.80,38417836.60,117,3839472.72,38417859.73,118,3839482.36,38417901.15,119,3839462.56,38417905.43,120,3839438.21,38417911.08,121,3839401.00,38417921.78,122,3839395.76,38417927.53,123,3839392.01,38417955.28,124,3839389.53,38417972.09,125,3839387.02,38417975.60,126,3839384.60,38417978.99,127,3839376.90,38417982.93,128,3839362.01,38417982.41,129,3839350.77,38417981.92,130,3839344.81,38417977.56,131,3839340.55,38417970.46,132,3839333.98,38417959.46,133,3839328.96,38417949.24,134,3839324.01,38417931.20,135,3839319.60,38417923.50,136,3839318.90,38417922.29,137,3839292.37,38417918.00,138,3839264.98,38417913.06,139,3839247.36,38417910.95,140,3839237.17,38417911.25,141,3839219.12,38417913.43,142,3839208.67,38417917.46,143,3839200.25,38417920.70,144,3839176.27,38417930.27,145,3839161.74,38417934.45,146,3839156.24,38417935.96,147,3839121.99,38417954.83,148,3839112.96,38417957.10,149,3839094.52,38417960.07,150,3839078.45,38417959.92,151,3839059.25,38417958.97,152,3839043.27,38417949.04,153,3839035.09,38417942.32,154,3839033.19,38417942.05,155,3839026.08,38417941.06,156,3839017.56,38417941.13,157,3839012.75,38417942.90,158,3839006.82,38417949.11,159,3838995.71,38417965.84,160,3838987.00,38417976.72,161,3838984.98,38417984.53,162,3838986.88,38417992.37,163,3838993.08,38418000.65,164,3839006.70,38418013.29,165,3839018.19,38418023.05,166,3839030.77,38418040.30,167,3839038.49,38418056.62,168,3839042.33,38418066.44,169,3839042.69,38418071.53,170,3839042.32,38418082.30,171,3839042.31,38418082.48,172,3839042.18,38418086.40,173,3839038.41,38418100.31,174,3839037.74,38418102.80,175,3839033.72,38418114.50,176,3839031.69,38418123.88,177,3839030.89,38418126.42,178,3839025.66,38418143.00,179,3839024.85,38418155.08,180,3839024.33,38418162.94,181,3839022.59,38418183.67,182,3839020.40,38418213.39,183,3839019.35,38418246.65,184,3839020.46,38418255.27,185,3839025.95,38418260.47,186,3839048.19,38418266.78,187,3839072.34,38418271.05,188,3839089.39,38418272.47,189,3839109.56,38418280.81,190,3839116.58,38418287.35,191,3839118.42,38418306.63,192,3839124.50,38418330.94,193,3839126.00,38418338.79,194,3839124.38,38418345.82,195,3839121.62,38418347.36,196,3839108.46,38418345.78,197,3839099.48,38418345.85,198,3839088.70,38418351.95,199,3839074.45,38418365.72,200,3839064.23,38418369.93,201,3839059.95,38418369.47,202,3839051.37,38418369.24,203,3839037.12,38418361.65,204,3839025.94,38418354.33,205,3839008.77,38418345.96,206,3838998.22,38418341.95,207,3838992.98,38418339.75,208,3838991.16,38418341.89,209,3838989.57,38418345.40,210,3838993.00,38418357.56,211,3838994.93,38418361.49,212,3838998.00,38418369.34,213,3839000.16,38418393.24,214,3839000.01,38418396.34,215,3838998.76,38418421.40,216,3838996.44,38418431.82,217,3838993.89,38418443.27,218,3838989.89,38418452.63,219,3838982.79,38418458.83,220,3838973.74,38418463.83,221,3838963.53,38418465.70,222,3838955.70,38418465.63,223,3838946.70,38418463.59,224,3838932.28,38418452.51,225,3838915.52,38418441.79,226,3838899.12,38418434.21,227,3838887.77,38418431.76,228,3838871.71,38418430.44,229,3838863.87,38418430.76,230,3838858.43,38418431.28,231,3838859.11,38418438.94,232,3838864.05,38418457.77,233,3838869.32,38418484.82,234,3838871.14,38418503.23,235,3838871.20,38418505.78,236,3838871.54,38418518.35,237,3838871.85,38418530.28,238,3838872.34,38418549.03,239,3838872.67,38418554.17,240,3838874.08,38418576.44,241,3838877.00,38418603.86,242,3838881.47,38418617.89,243,3838888.55,38418617.84,244,3838894.90,38418618.03,245,3838908.67,38418616.57,246,3838925.10,38418613.78,247,3838932.55,38418612.54,248,3838970.12,38418606.18,249,3838986.50,38418596.10,250,3839011.61,38418591.14,251,3839029.28,38418592.38,252,3839058.58,38418600.45,253,3839073.58,38418605.77,254,3839094.88,38418612.07,255,3839106.14,38418621.22,256,3839119.12,38418630.43,257,3839135.63,38418644.81,258,3839154.65,38418663.69,259,3839154.07,38418663.56,260,3839157.18,38418671.10,261,3839157.10,38418680.19,262,3839157.04,38418687.70,263,3839153.41,38418695.57,264,3839148.22,38418701.85,265,3839148.20,38418703.93,266,3839148.15,38418709.76,267,3839151.63,38418719.28,268,3839157.10,38418728.82,269,3839167.26,38418744.33,270,3839187.60,38418772.97,271,3839206.55,38418790.63,272,3839224.80,38418773.70,273,3839233.77,38418782.52,274,3839249.53,38418798.03,275,3839287.23,38418833.55,276,3839308.47,38418849.56,277,3839318.11,38418857.08,278,3839330.49,38418866.75,279,3839354.61,38418883.93,280,3839369.84,38418894.78,281,3839395.84,38418909.63,282,3839424.17,38418929.26,283,3839448.54,38418950.43,284,3839458.36,38418958.82,285,3839466.11,38418968.44,286,3839472.46,38418976.34,287,3839479.48,38418989.84,288,3839481.99,38419003.38,289,3839483.65,38419012.02,290,3839484.55,38419046.03,291,3839482.93,38419098.60,292,3839476.67,38419127.74,293,3839484.87,38419208.42,294,3839482.64,38419277.70,295,3839482.07,38419298.64,296,3839483.77,38419331.87,297,3839492.24,38419360.81,298,3839497.12,38419392.48,299,3839500.47,38419418.60,300,3839505.09,38419434.46,301,3839506.22,38419436.57,302,3839512.49,38419448.36,303,3839517.45,38419471.73,304,3839523.17,38419497.09,305,3839524.60,38419515.68,306,3839523.83,38419522.34,307,3839522.90,38419530.29,308,3839511.27,38419547.98,309,3839494.44,38419573.14,310,3839484.83,38419586.89,311,3839483.53,38419588.28,312,3839475.25,38419597.08,313,3839461.67,38419611.99,314,3839448.86,38419630.06,315,3839446.42,38419637.55,316,3839447.54,38419645.07,317,3839450.58,38419660.52,318,3839454.05,38419671.62,319,3839459.91,38419685.92,320,3839460.14,38419686.38,321,3839468.28,38419702.49,322,3839471.69,38419709.24,323,3839479.27,38419718.00,324,3839481.00,38419718.87,325,3839489.64,38419737.87,326,3839494.82,38419756.88,327,3839504.38,38419783.54,328,3839509.66,38419794.26,329,3839523.17,38419819.80,330,3839527.94,38419826.86,331,3839538.56,38419838.85,332,3839548.38,38419845.50,333,3839554.13,38419846.77,334,3839559.47,38419846.81,335,3839568.54,38419843.18,336,3839579.26,38419840.39,337,3839587.23,38419839.89,338,3839593.73,38419869.03,339,3839584.66,38419882.35,340,3839543.34,38419890.46,341,3839519.30,38419874.90,342,3839501.13,38419825.91,343,3839468.95,38419812.77,344,3839423.34,38419822.24,345,3839403.91,38419843.75,346,3839379.10,38419832.44,347,3839311.30,38419831.85,348,3839301.07,38419887.35,349,3839272.24,38419882.37,350,3839197.38,38419773.19,351,3839132.13,38419721.74,352,3838936.99,38419612.89,353,3838639.02,38419544.92,354,3838377.31,38419519.02,355,3838311.71,38419460.52,356,3838130.77,38419431.77,357,3837961.42,38419405.72,358,3837797.01,38419270.04,359,3837722.56,38419000.06,360,3837674.52,38418929.02,361,3837666.50,38418926.22,362,3837722.76,38418819.52,363,3837822.76,38418682.05,364,3837917.84,38418719.46,365,3837967.11,38418772.40,366,3838009.99,38418790.10,367,3838118.37,38418735.09,368,3838135.94,38418686.87,369,3838171.66,38418664.73,370,3838197.28,38418529.17,371,3838227.28,38418490.69,372,3838260.84,38418485.09,373,3838299.06,38418435.43,374,3838377.78,38418451.97,375,3838444.13,38418346.44,376,3838479.71,38418328.22,377,3838508.32,38418277.45,378,3838570.27,38418259.18,379,3838587.60,38418262.70,380,3838613.50,38418245.17,381,3838698.92,38418094.18,382,3838771.51,38417952.44,383,3838767.88,38417944.20,384,3838772.42,38417921.74,385,3838801.00,38417825.10,386,3838806.19,38417786.16,387,3838828.34,38417772.95,388,3838873.84,38417771.99,389,3838885.95,38417769.28,390,3838897.71,38417761.25,391,3838939.36,38417717.18,392,3838969.59,38417643.16,393,3838975.31,38417595.88,394,3838976.32,38417559.80,395,3838980.97,38417536.95,396,3839097.36,38417490.35,397,3839211.06,38417445.74,398,3839322.60,38417384.75,399,3839558.22,38417320.44,400,3839611.42,38417301.34,401,3839662.26,38417287.75,402,3839686.79,38417291.67,403,3839702.38,38417289.71,404,3839745.15,38417252.45,405,3839751.28,38417228.79,406,3839754.74,38417179.00,407,3839782.85,38417086.24,408,3839791.32,38417069.03,409,3839815.97,38417042.81,410,3839831.09,38417020.93,411,3839845.44,38417007.24,412,3839862.85,38416990.90,413,3839942.15,38416930.39,414,3839942.15,38416930.39,415,3839952.16,38416921.50,416,3839961.34,38416915.62,417,3839984.35,38416903.23,418,3840035.20,38416889.85,419,3840061.07,38416887.15,420,3840102.43,38416893.28,421,3840104.50,38416889.24,422,3840110.41,38416882.64,423,3840161.35,38416876.23,424,3840213.23,38416834.32,425,3840222.48,38416827.85,1000,0,,1,7,1,3840303.37,38416806.59,2,3840291.30,38416817.20,3,3840288.18,38416816.58,4,3840282.75,38416815.49,5,3840274.19,38416813.78,6,3840274.04,38416813.31,7,3840303.37,38416806.59,100,0,,1,10,1,3840321.03,38416791.08,2,3840323.21,38416787.19,3,3840364.86,38416650.70,4,3840379.37,38416608.87,5,3840390.56,38416615.69,6,3840376.85,38416664.07,7,3840362.30,38416712.83,8,3840357.95,38416743.29,9,3840355.46,38416760.74,10,3840321.03,38416791.08,1000,0,,1,";
                //string strDots = c.GetCKFormattedDotString(dot,true);
                //Console.WriteLine("带带号解析>>>>"+strDots+"");
                //Log.WriteDebug("带带号解析>>>>\r\n" + strDots+"\r\n");
                //string strDotsDH = c.GetCKFormattedDotString(dot,false);
                //Console.WriteLine("不带带号解析>>>>" + strDotsDH);
                //Log.WriteDebug("不带带号解析>>>>\r\n" + strDotsDH+"\r\n");
                //Console.ReadKey();
                #endregion

                #region 测试服务
                Feature f = new Feature("http://192.168.2.24/IGSLandService");
                string[] field={"项目档案号",
                                "项目类型",
                                "申请人",
                                "电话",
                                "地址",
                                "邮编",
                                "矿山名称",
                                "经济类型",
                                "项目审批机关",
                                "批准文号",
                                "资金来源",
                                "设计年限",
                                "开采主矿种",
                                "设计规模",
                                "规模单位",
                                "开采方式",
                                "采矿方法",
                                "选矿方法",
                                "应缴纳采矿权价款",
                                "采深上限",
                                "采深下限",
                                "矿区面积",
                                "采矿权使用费",
                                "有效期限",
                                "有效期起",
                                "有效期止",
                                "矿区编码",
                                "原许可证号",
                                "发证机关名称",
                                "区域坐标",
                                "设计利用储量",
                                "其它主矿种",
                                "签发时间"};

                string[] value={"4101810310029",
                                "1020",
                                "巩义市鑫安石料有限公司",
                                "15378737966",
                                "巩义市涉村镇凌沟村",
                                "451275",
                                "巩义市鑫安石料有限公司大山开采分公司",
                                "159",
                                "",
                                "",
                                "自筹",
                                "4",
                                "83907",
                                "20",
                                "万吨/年",
                                "露天开采",
                                "组合台阶采矿法",
                                "手选",
                                "1.56",
                                "537",
                                "504",
                                "0.0183",
                                "0.5",
                                "1.0",
                                "2011-08-1200:00:00",
                                "2012-08-1200:00:00",
                                "0",
                                "C4101812010087130073498",
                                "河南省郑州市巩义市",
                                "1,4,1,3829489.86,38413197.70,2,3829524.86,38413289.69,3,3829363.86,38413356.69,4,3829330.87,38413244.69,537,504,,1,",
                                "截至2010年底，保有资源储量32.21万吨。",
                                "",
                                "2011-08-1200:00:00"};

                string strSubject = "两矿";
                string strInputAtt = "subjectType=CK&layerShortName=CKQSQDJ";
                string strDotString="3829489.86,413197.70 3829524.86,413289.69 3829363.86,413356.69 3829330.87,413244.69";
                if (f.IsFeatureExist(strSubject, strInputAtt, "项目档案号='4101810310029''"))
                {
                    Console.WriteLine("IsFeatureNew()=true");
                }
                else
                {
                    Console.WriteLine("IsFeatureNew()=false");
                }
                if (f.AddFeature(strSubject, strInputAtt, strDotString, field, value))
                {
                    Console.WriteLine("AddFeatureNew()=true");
                }
                else
                {
                    Console.WriteLine("AddFeatureNew()=false");
                }
                #endregion
                Console.ReadKey();
            }
            catch(Exception ex)
            {
                Log.WriteError(ex.Message);
            }
        }
    }
}
